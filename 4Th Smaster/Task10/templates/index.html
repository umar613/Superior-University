<!DOCTYPE html>
<html>
<head>
    <title>Hotel Chatbot</title>
    <link rel="stylesheet" href="/static/style.css">
 
</head>
<body>

<div class="chat-box">
    <h2>üè® Hotel Information Chatbot</h2>

    <div id="chat-area"></div>

    <input type="text" id="user-input" placeholder="Type your message..." onkeypress="if(event.key==='Enter') sendMessage()">
    <button onclick="sendMessage()">Send</button>
</div>

<script>
function sendMessage() {
    let msg = document.getElementById("user-input").value.trim();
    if (!msg) return;

    let chatArea = document.getElementById("chat-area");
    chatArea.innerHTML += `<div class='user'>${msg}</div>`;
    chatArea.scrollTop = chatArea.scrollHeight;

    fetch("/chat", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: "message=" + encodeURIComponent(msg)
    })
    .then(res => res.json())
    .then(data => {
        chatArea.innerHTML += `<div class='bot'>${data.reply}</div>`;
        chatArea.scrollTop = chatArea.scrollHeight;
        document.getElementById("user-input").value = "";
    });
}
</script>

</body>
</html>